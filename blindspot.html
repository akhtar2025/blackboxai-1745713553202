<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blind Spot - E-Learning</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body { font-family: 'Poppins', sans-serif; }
        .quiz-section { display: none; }
        .quiz-section.active { display: block; }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <nav class="bg-blue-600 text-white shadow-lg">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <h1 class="text-xl font-bold">Blind Spot</h1>
            <a href="dashboard.html" class="text-sm bg-blue-700 px-4 py-2 rounded hover:bg-blue-800">
                Kembali ke Dashboard
            </a>
        </div>
    </nav>

    <div class="container mx-auto px-4 py-8">
        <!-- Learning Content -->
        <div id="learning-content" class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <h2 class="text-2xl font-bold mb-6">Materi Blind Spot</h2>

            <!-- Definisi -->
            <div class="mb-8">
                <h3 class="text-xl font-semibold mb-4 text-blue-600">1. Definisi Blind Spot</h3>
                <div class="p-4 bg-gray-50 rounded-lg">
                    <p class="text-gray-700">
                        Blind spot adalah area di sekitar kendaraan yang tidak dapat dilihat oleh pengendara, baik 
                        melalui pandangan langsung maupun melalui spion. Area ini sangat penting untuk diperhatikan 
                        karena banyak kecelakaan terjadi akibat pengendara tidak menyadari objek yang berada di 
                        blind spot mereka.
                    </p>
                </div>
            </div>

            <!-- Area Blind Spot -->
            <div class="mb-8">
                <h3 class="text-xl font-semibold mb-4 text-blue-600">2. Area Blind Spot pada Sepeda Motor</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <h4 class="font-semibold text-lg mb-2">
                            <i class="fas fa-motorcycle text-blue-500 mr-2"></i>
                            Sisi Kiri dan Kanan
                        </h4>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                            <li>Area di samping dan sedikit ke belakang motor</li>
                            <li>Tidak terlihat di spion</li>
                            <li>Rawan saat akan pindah lajur</li>
                        </ul>
                    </div>

                    <div class="p-4 bg-gray-50 rounded-lg">
                        <h4 class="font-semibold text-lg mb-2">
                            <i class="fas fa-truck text-blue-500 mr-2"></i>
                            Blind Spot Kendaraan Besar
                        </h4>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                            <li>Area di samping dan belakang truk/bus</li>
                            <li>Area dekat dengan roda belakang</li>
                            <li>Hindari berkendara di area ini</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Cara Mengatasi -->
            <div class="mb-8">
                <h3 class="text-xl font-semibold mb-4 text-blue-600">3. Cara Mengatasi Blind Spot</h3>
                <div class="space-y-4">
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <h4 class="font-semibold text-lg mb-2">Pengaturan Spion</h4>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                            <li>Atur posisi spion dengan benar</li>
                            <li>Pastikan area maksimal yang bisa terlihat</li>
                            <li>Periksa kondisi spion secara rutin</li>
                            <li>Bersihkan spion dari kotoran/embun</li>
                        </ul>
                    </div>

                    <div class="p-4 bg-gray-50 rounded-lg">
                        <h4 class="font-semibold text-lg mb-2">Teknik Melihat</h4>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                            <li>Lakukan head check (menoleh) sebelum pindah lajur</li>
                            <li>Periksa spion secara berkala</li>
                            <li>Perhatikan pergerakan kendaraan lain</li>
                            <li>Jangan hanya mengandalkan spion</li>
                        </ul>
                    </div>

                    <div class="p-4 bg-gray-50 rounded-lg">
                        <h4 class="font-semibold text-lg mb-2">Tips Tambahan</h4>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                            <li>Jaga jarak aman dengan kendaraan lain</li>
                            <li>Hindari berkendara di blind spot kendaraan besar</li>
                            <li>Gunakan lampu sein saat akan pindah lajur</li>
                            <li>Selalu waspada terhadap perubahan situasi</li>
                        </ul>
                    </div>

                    <div class="p-4 bg-blue-50 rounded-lg border border-blue-200">
                        <h4 class="font-semibold text-lg mb-2 text-blue-600">Ingat!</h4>
                        <p class="text-blue-700">
                            "If you can't see their mirrors, they can't see you" - Jika Anda tidak dapat melihat 
                            spion kendaraan lain, maka mereka juga tidak dapat melihat Anda.
                        </p>
                    </div>
                </div>
            </div>

            <button onclick="showQuiz()" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">
                Mulai Quiz
            </button>
        </div>

        <!-- Quiz Section -->
        <div id="quiz-section" class="quiz-section bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-2xl font-bold mb-6">Quiz Blind Spot</h2>
            
            <form id="quiz-form" onsubmit="submitQuiz(event)" class="space-y-6">
                <!-- Afektif Questions -->
                <div class="space-y-4">
                    <h3 class="text-xl font-semibold text-blue-600">Pertanyaan Afektif</h3>
                    
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <p class="font-semibold mb-2">1. Apa yang Anda lakukan sebelum pindah lajur?</p>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="radio" name="q1" value="a" required class="mr-2">
                                <span>Langsung pindah lajur</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="q1" value="b" required class="mr-2">
                                <span>Cek spion dan menoleh untuk memastikan keamanan</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="q1" value="c" required class="mr-2">
                                <span>Hanya menyalakan lampu sein</span>
                            </label>
                        </div>
                    </div>

                    <div class="p-4 bg-gray-50 rounded-lg">
                        <p class="font-semibold mb-2">2. Bagaimana sikap Anda saat berada di dekat kendaraan besar?</p>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="radio" name="q2" value="a" required class="mr-2">
                                <span>Tetap berkendara di samping truk/bus</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="q2" value="b" required class="mr-2">
                                <span>Menjaga jarak dan menghindari area blind spot</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="q2" value="c" required class="mr-2">
                                <span>Mempercepat laju untuk mendahului</span>
                            </label>
                        </div>
                    </div>

                    <div class="p-4 bg-gray-50 rounded-lg">
                        <p class="font-semibold mb-2">3. Apa yang Anda lakukan jika spion kotor/berembun?</p>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="radio" name="q3" value="a" required class="mr-2">
                                <span>Mengabaikannya</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="q3" value="b" required class="mr-2">
                                <span>Membersihkan spion sebelum berkendara</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="q3" value="c" required class="mr-2">
                                <span>Berkendara tanpa menggunakan spion</span>
                            </label>
                        </div>
                    </div>

                    <!-- Kognitif Questions -->
                    <h3 class="text-xl font-semibold text-blue-600 mt-6">Pertanyaan Kognitif</h3>
                    
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <p class="font-semibold mb-2">4. Apa yang dimaksud dengan blind spot?</p>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="radio" name="q4" value="a" required class="mr-2">
                                <span>Area yang gelap di jalan</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="q4" value="b" required class="mr-2">
                                <span>Area yang tidak terlihat oleh pengendara baik langsung maupun lewat spion</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="q4" value="c" required class="mr-2">
                                <span>Spion yang rusak</span>
                            </label>
                        </div>
                    </div>

                    <div class="p-4 bg-gray-50 rounded-lg">
                        <p class="font-semibold mb-2">5. Mengapa head check (menoleh) penting dilakukan?</p>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="radio" name="q5" value="a" required class="mr-2">
                                <span>Untuk melihat pemandangan</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="q5" value="b" required class="mr-2">
                                <span>Untuk memastikan tidak ada kendaraan di blind spot</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="q5" value="c" required class="mr-2">
                                <span>Untuk meregangkan leher</span>
                            </label>
                        </div>
                    </div>
                </div>

                <button type="submit" class="w-full bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">
                    Submit Quiz
                </button>
            </form>
        </div>
    </div>

    <script src="auth.js"></script>
    <script>
        // Check authentication
        if (!Auth.isLoggedIn()) {
            window.location.href = 'index.html';
        }

        const answers = {
            q1: 'b',
            q2: 'b',
            q3: 'b',
            q4: 'b',
            q5: 'b'
        };

        function showQuiz() {
            document.getElementById('learning-content').style.display = 'none';
            document.getElementById('quiz-section').style.display = 'block';
        }

        function submitQuiz(event) {
            event.preventDefault();
            
            let score = 0;
            const total = Object.keys(answers).length;
            
            // Calculate score
            Object.keys(answers).forEach(question => {
                const selected = document.querySelector(`input[name="${question}"]:checked`);
                if (selected && selected.value === answers[question]) {
                    score++;
                }
            });

            // Convert to percentage
            const percentage = (score / total) * 100;

            // Update progress
            Auth.updateProgress('blindspot', percentage);

            // Show result and redirect
            alert(`Nilai Anda: ${percentage}%\nSilakan lanjut ke materi berikutnya!`);
            window.location.href = 'dashboard.html';
        }
    </script>
</body>
</html>
