<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Antisipasi Kondisi Bahaya - E-Learning</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body { font-family: 'Poppins', sans-serif; }
        .quiz-section { display: none; }
        .quiz-section.active { display: block; }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <nav class="bg-blue-600 text-white shadow-lg">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <h1 class="text-xl font-bold">Antisipasi Kondisi Bahaya</h1>
            <a href="dashboard.html" class="text-sm bg-blue-700 px-4 py-2 rounded hover:bg-blue-800">
                Kembali ke Dashboard
            </a>
        </div>
    </nav>

    <div class="container mx-auto px-4 py-8">
        <!-- Learning Content -->
        <div id="learning-content" class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <h2 class="text-2xl font-bold mb-6">Materi Antisipasi Kondisi Bahaya</h2>

            <!-- Definisi -->
            <div class="mb-8">
                <h3 class="text-xl font-semibold mb-4 text-blue-600">1. Definisi Kondisi Bahaya</h3>
                <div class="p-4 bg-gray-50 rounded-lg">
                    <p class="text-gray-700">
                        Kondisi bahaya dalam berkendara adalah situasi yang berpotensi menyebabkan kecelakaan atau 
                        membahayakan keselamatan pengendara dan pengguna jalan lainnya. Kondisi ini bisa muncul 
                        dari berbagai faktor seperti kondisi jalan, cuaca, perilaku pengendara lain, atau kondisi 
                        kendaraan itu sendiri.
                    </p>
                </div>
            </div>

            <!-- Jenis Kondisi Bahaya -->
            <div class="mb-8">
                <h3 class="text-xl font-semibold mb-4 text-blue-600">2. Jenis-jenis Kondisi Bahaya</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <h4 class="font-semibold text-lg mb-2">
                            <i class="fas fa-road text-blue-500 mr-2"></i>
                            Kondisi Jalan
                        </h4>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                            <li>Jalan berlubang atau rusak</li>
                            <li>Permukaan licin</li>
                            <li>Tanjakan/turunan tajam</li>
                            <li>Material lepas (kerikil, pasir)</li>
                        </ul>
                    </div>

                    <div class="p-4 bg-gray-50 rounded-lg">
                        <h4 class="font-semibold text-lg mb-2">
                            <i class="fas fa-cloud-rain text-blue-500 mr-2"></i>
                            Kondisi Cuaca
                        </h4>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                            <li>Hujan lebat</li>
                            <li>Kabut tebal</li>
                            <li>Angin kencang</li>
                            <li>Panas ekstrem</li>
                        </ul>
                    </div>

                    <div class="p-4 bg-gray-50 rounded-lg">
                        <h4 class="font-semibold text-lg mb-2">
                            <i class="fas fa-car-crash text-blue-500 mr-2"></i>
                            Perilaku Pengendara Lain
                        </h4>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                            <li>Perpindahan lajur mendadak</li>
                            <li>Pengereman mendadak</li>
                            <li>Melawan arus</li>
                            <li>Tidak menyalakan lampu sein</li>
                        </ul>
                    </div>

                    <div class="p-4 bg-gray-50 rounded-lg">
                        <h4 class="font-semibold text-lg mb-2">
                            <i class="fas fa-exclamation-triangle text-blue-500 mr-2"></i>
                            Kondisi Darurat
                        </h4>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                            <li>Rem blong</li>
                            <li>Ban pecah</li>
                            <li>Mesin mati mendadak</li>
                            <li>Kerusakan sistem kemudi</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Cara Antisipasi -->
            <div class="mb-8">
                <h3 class="text-xl font-semibold mb-4 text-blue-600">3. Cara Mengantisipasi Kondisi Bahaya</h3>
                <div class="space-y-4">
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <h4 class="font-semibold text-lg mb-2">Antisipasi Umum</h4>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                            <li>Selalu periksa kondisi kendaraan sebelum berkendara</li>
                            <li>Jaga jarak aman dengan kendaraan lain</li>
                            <li>Kurangi kecepatan di kondisi jalan atau cuaca buruk</li>
                            <li>Selalu waspada terhadap pergerakan kendaraan lain</li>
                            <li>Gunakan perlengkapan keselamatan lengkap</li>
                        </ul>
                    </div>

                    <div class="p-4 bg-gray-50 rounded-lg">
                        <h4 class="font-semibold text-lg mb-2">Antisipasi Khusus</h4>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                            <li>Hindari berkendara saat hujan lebat atau kondisi ekstrem</li>
                            <li>Gunakan lampu hazard saat kondisi darurat</li>
                            <li>Segera ke bengkel jika ada tanda-tanda kerusakan</li>
                            <li>Pilih jalur alternatif jika kondisi jalan berbahaya</li>
                        </ul>
                    </div>
                </div>
            </div>

            <button onclick="showQuiz()" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">
                Mulai Quiz
            </button>
        </div>

        <!-- Quiz Section -->
        <div id="quiz-section" class="quiz-section bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-2xl font-bold mb-6">Quiz Antisipasi Kondisi Bahaya</h2>
            
            <form id="quiz-form" onsubmit="submitQuiz(event)" class="space-y-6">
                <!-- Afektif Questions -->
                <div class="space-y-4">
                    <h3 class="text-xl font-semibold text-blue-600">Pertanyaan Afektif</h3>
                    
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <p class="font-semibold mb-2">1. Apa yang Anda lakukan ketika melihat pengendara lain dalam kondisi darurat?</p>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="radio" name="q1" value="a" required class="mr-2">
                                <span>Mengabaikan dan melanjutkan perjalanan</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="q1" value="b" required class="mr-2">
                                <span>Memberikan bantuan sesuai kemampuan dengan aman</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="q1" value="c" required class="mr-2">
                                <span>Merekam kejadian untuk dibagikan di media sosial</span>
                            </label>
                        </div>
                    </div>

                    <div class="p-4 bg-gray-50 rounded-lg">
                        <p class="font-semibold mb-2">2. Bagaimana sikap Anda ketika menemui jalan rusak?</p>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="radio" name="q2" value="a" required class="mr-2">
                                <span>Tetap melaju dengan kecepatan normal</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="q2" value="b" required class="mr-2">
                                <span>Mengurangi kecepatan dan mencari jalur yang aman</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="q2" value="c" required class="mr-2">
                                <span>Mempercepat laju untuk segera melewati area tersebut</span>
                            </label>
                        </div>
                    </div>

                    <div class="p-4 bg-gray-50 rounded-lg">
                        <p class="font-semibold mb-2">3. Apa yang Anda lakukan saat motor mengalami masalah di jalan?</p>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="radio" name="q3" value="a" required class="mr-2">
                                <span>Menepi dengan aman dan menyalakan lampu hazard</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="q3" value="b" required class="mr-2">
                                <span>Berhenti mendadak di tengah jalan</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="q3" value="c" required class="mr-2">
                                <span>Memaksakan untuk terus berkendara</span>
                            </label>
                        </div>
                    </div>

                    <!-- Kognitif Questions -->
                    <h3 class="text-xl font-semibold text-blue-600 mt-6">Pertanyaan Kognitif</h3>
                    
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <p class="font-semibold mb-2">4. Apa yang dimaksud dengan kondisi bahaya dalam berkendara?</p>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="radio" name="q4" value="a" required class="mr-2">
                                <span>Hanya kondisi jalan yang rusak</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="q4" value="b" required class="mr-2">
                                <span>Situasi yang berpotensi menyebabkan kecelakaan</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="q4" value="c" required class="mr-2">
                                <span>Saat berkendara malam hari</span>
                            </label>
                        </div>
                    </div>

                    <div class="p-4 bg-gray-50 rounded-lg">
                        <p class="font-semibold mb-2">5. Mengapa jaga jarak aman penting dalam berkendara?</p>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="radio" name="q5" value="a" required class="mr-2">
                                <span>Agar tidak ditilang polisi</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="q5" value="b" required class="mr-2">
                                <span>Memberikan waktu reaksi untuk mengantisipasi bahaya</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="q5" value="c" required class="mr-2">
                                <span>Agar tidak menghabiskan bahan bakar</span>
                            </label>
                        </div>
                    </div>
                </div>

                <button type="submit" class="w-full bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">
                    Submit Quiz
                </button>
            </form>
        </div>
    </div>

    <script src="auth.js"></script>
    <script>
        // Check authentication
        if (!Auth.isLoggedIn()) {
            window.location.href = 'index.html';
        }

        const answers = {
            q1: 'b',
            q2: 'b',
            q3: 'a',
            q4: 'b',
            q5: 'b'
        };

        function showQuiz() {
            document.getElementById('learning-content').style.display = 'none';
            document.getElementById('quiz-section').style.display = 'block';
        }

        function submitQuiz(event) {
            event.preventDefault();
            
            let score = 0;
            const total = Object.keys(answers).length;
            
            // Calculate score
            Object.keys(answers).forEach(question => {
                const selected = document.querySelector(`input[name="${question}"]:checked`);
                if (selected && selected.value === answers[question]) {
                    score++;
                }
            });

            // Convert to percentage
            const percentage = (score / total) * 100;

            // Update progress
            Auth.updateProgress('hazard', percentage);

            // Show result and redirect
            alert(`Nilai Anda: ${percentage}%\nSilakan lanjut ke materi berikutnya!`);
            window.location.href = 'dashboard.html';
        }
    </script>
</body>
</html>
